cmake_minimum_required(VERSION 2.6.2)

project(Ch13)

include(../../clr.cmake)

add_executable_clr(auto_gcroot auto_gcroot.cpp)
add_executable_clr(context_switch context_switch.cpp)
add_executable_clr(gc_hole gc_hole.cpp)
add_executable_clr(getlasterror getlasterror.cpp)
add_executable_clr(interop_messagebox interop_messagebox.cpp)
add_executable_clr(interop_messagebox_marshaling interop_messagebox_marshaling.cpp)
add_executable_clr(message_box message_box.cpp)
add_executable_clr(message_box_wrapper_marshaling message_box_wrapper_marshaling.cpp)
add_executable_clr(native_exception native_exception.cpp)
add_executable_clr(native_in_managed native_in_managed.cpp)
add_executable(native_message_box_class native_message_box_class.cpp native_message_box_class.h)
add_executable_clr(pinvoke pinvoke.cpp)
add_executable_clr(pinvoke_marshaling pinvoke_marshaling.cpp)
add_executable_clr(pinvoke_rename_entry_point pinvoke_rename_entry_point.cpp)
add_executable_clr(pinvoke_thiscall pinvoke_thiscall.cpp)
add_dependencies(pinvoke_thiscall nativeclasslib)
add_executable_clr(try_except try_except.cpp)

add_library(nativeclasslib SHARED nativeclasslib.cpp)
add_library_clr(global_function global_function.cpp)
add_library_clr(interface_example interface_example.cpp)
add_library_clr(interior_ptr interior_ptr.cpp)
add_library_clr(native_in_managed_bad native_in_managed_bad.cpp)